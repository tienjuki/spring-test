
-- EMPLOYEES definition

CREATE TABLE "EMPLOYEES"  (
		  "EMPLOYEE_ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (  
		    START WITH +1  
		    INCREMENT BY +1  
		    MINVALUE +1  
		    MAXVALUE +9223372036854775807  
		    NO CYCLE  
		    CACHE 20  
		    NO ORDER ) , 
		  "EMAIL" VARCHAR(255 OCTETS) NOT NULL , 
		  "FIRST_NAME" VARCHAR(255 OCTETS) NOT NULL , 
		  "JOB_ID" VARCHAR(255 OCTETS) NOT NULL , 
		  "LAST_NAME" VARCHAR(255 OCTETS) NOT NULL )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "EMPLOYEES" 
	ADD PRIMARY KEY
		("EMPLOYEE_ID")
	ENFORCED;


-- SCHEMA1.PROJECT definition

CREATE TABLE "PROJECT"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (  
		    START WITH +1  
		    INCREMENT BY +1  
		    MINVALUE +1  
		    MAXVALUE +9223372036854775807  
		    NO CYCLE  
		    CACHE 20  
		    NO ORDER ) , 
		  "DESCRIPTION" VARCHAR(255 OCTETS) , 
		  "NAME" VARCHAR(255 OCTETS) NOT NULL )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "PROJECT" 
	ADD PRIMARY KEY
		("ID")
	ENFORCED;


-- SCHEMA1."ROLE" definition

CREATE TABLE "ROLE"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (  
		    START WITH +1  
		    INCREMENT BY +1  
		    MINVALUE +1  
		    MAXVALUE +9223372036854775807  
		    NO CYCLE  
		    CACHE 20  
		    NO ORDER ) , 
		  "NAME" VARCHAR(255 OCTETS) NOT NULL )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "ROLE" 
	ADD PRIMARY KEY
		("ID")
	ENFORCED;

ALTER TABLE "ROLE" 
	ADD CONSTRAINT "UK_8SEWWNPAMNGI6B1DWAA88ASKK" UNIQUE
		("NAME")
	ENFORCED;


-- SCHEMA1.USERS definition

CREATE TABLE "USERS"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (  
		    START WITH +1  
		    INCREMENT BY +1  
		    MINVALUE +1  
		    MAXVALUE +9223372036854775807  
		    NO CYCLE  
		    CACHE 20  
		    NO ORDER ) , 
		  "DELETED" SMALLINT NOT NULL , 
		  "EMAIL" VARCHAR(255 OCTETS) , 
		  "FULLNAME" VARCHAR(255 OCTETS) , 
		  "PASSWORD" VARCHAR(255 OCTETS) NOT NULL , 
		  "PHONENUMBER" VARCHAR(255 OCTETS) , 
		  "USERNAME" VARCHAR(255 OCTETS) NOT NULL )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "USERS" 
	ADD PRIMARY KEY
		("ID")
	ENFORCED;

ALTER TABLE "USERS" 
	ADD CONSTRAINT "UK_R43AF9AP4EDM43MMTQ01ODDJ6" UNIQUE
		("USERNAME")
	ENFORCED;

-- SCHEMA1.EMPLOYEE_PROJECT definition

CREATE TABLE "EMPLOYEE_PROJECT"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (  
		    START WITH +1  
		    INCREMENT BY +1  
		    MINVALUE +1  
		    MAXVALUE +9223372036854775807  
		    NO CYCLE  
		    CACHE 20  
		    NO ORDER ) , 
		  "EMPLOYEE_ID" BIGINT , 
		  "PROJECT_ID" BIGINT )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "EMPLOYEE_PROJECT" 
	ADD PRIMARY KEY
		("ID")
	ENFORCED;

ALTER TABLE "EMPLOYEE_PROJECT" 
	ADD CONSTRAINT "FK_36RY5BDVACUWAEM8S42WDVDAI" FOREIGN KEY
		("EMPLOYEE_ID")
	REFERENCES "EMPLOYEES"
		("EMPLOYEE_ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION;

ALTER TABLE "EMPLOYEE_PROJECT" 
	ADD CONSTRAINT "FK_MB315B26BS2N00R6S4TUPP8W7" FOREIGN KEY
		("PROJECT_ID")
	REFERENCES "PROJECT"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION;


-- SCHEMA1.USERS_ROLES definition

CREATE TABLE "USERS_ROLES"  (
		  "USER_ID" BIGINT NOT NULL , 
		  "ROLE_ID" BIGINT NOT NULL )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW;

ALTER TABLE "USERS_ROLES" 
	ADD CONSTRAINT "FK_1HJW31QVLTJ7V3WB5O31JSRD8" FOREIGN KEY
		("USER_ID")
	REFERENCES "USERS"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION;

ALTER TABLE "USERS_ROLES" 
	ADD CONSTRAINT "FK_K2MQ1EE4OB6UW649WGAUS1ATE" FOREIGN KEY
		("ROLE_ID")
	REFERENCES "ROLE"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION;

INSERT INTO role (name) VALUES ('ROLE_ADMIN');
INSERT INTO role (name) VALUES ('ROLE_USER');